body {
	@apply antialiased;
	@apply h-full;
	@apply overscroll-none;
	@apply text-base;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

html {
	@apply h-full;
	@apply bg-zinc-950;
	touch-action: manipulation;
}

/* ========================================================================
   CRITICAL: Prevent FOUC - Navigation Alignment Fix (UPDATED)
   ======================================================================== */
/* Force navigation left alignment from first render */
nav {
	display: flex !important;
	justify-content: flex-start !important;
	align-items: center !important;
	width: 100% !important; 
	max-width: 100% !important;
	/* Thêm padding an toàn để không dính sát mép màn hình */
	padding-left: 1rem !important; 
	padding-right: 1rem !important;
}

nav > div {
	display: flex !important;
	justify-content: flex-start !important;
	align-items: center !important;
	gap: 0.75rem;
	width: auto !important; /* Thay đổi: Auto để không bị kéo giãn */
	max-width: 100% !important;
	
	/* Thay đổi quan trọng: Ép dính trái và đẩy phần thừa sang phải */
	margin-left: 0 !important;
	margin-right: auto !important; 
}

/* Prevent flex-1 from causing centering */
nav > div > div {
	justify-content: flex-start !important;
}

/* Navigation link styles */
nav a {
	white-space: nowrap;
	flex-shrink: 0;
}

/* ========================================================================
   TOGGLE SWITCH (Compact Size Updated)
   ======================================================================== */
/* Logic: Thu nhỏ khoảng 30% so với bản cũ */

button[role="switch"],
.toggle-switch {
	display: inline-flex !important;
	align-items: center !important;
	justify-content: flex-start !important;
	vertical-align: middle !important;
	flex-shrink: 0 !important;
	position: relative !important;
	cursor: pointer;
	
	/* Shape */
	border-radius: 9999px !important;
	border: 1px solid transparent !important;
	box-sizing: border-box !important;

	/* --- MOBILE COMPACT SIZE --- */
	/* Cũ: 2.25rem x 1.25rem */
	width: 1.75rem !important; /* ~28px */
	height: 1rem !important;   /* ~16px */
	
	transition-property: background-color, border-color, color;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 200ms;
}

/* Knob (Cục tròn) */
button[role="switch"] > span,
.toggle-switch > span {
	margin: 0 !important;
	position: absolute !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	display: inline-block !important;
	
	border-radius: 9999px !important;
	background-color: white !important;
	line-height: 1 !important;
	vertical-align: middle !important;
	pointer-events: none;
	
	transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1) !important;

	/* --- MOBILE SPECS --- */
	left: 2px !important; /* Padding cố định 2px */
	
	/* Size: Track(16px) - Pad(4px) = 12px */
	width: 0.75rem !important; 
	height: 0.75rem !important;
}

/* Pin translation when checked - Mobile */
button[role="switch"][aria-checked="true"] > span,
.toggle-switch[aria-checked="true"] > span {
	/* Move: Track(1.75) - Pin(0.75) - Pad(0.25) = 0.75rem */
	transform: translateY(-50%) translateX(0.75rem) !important;
}

/* Desktop toggle dimensions */
@media (min-width: 640px) {
	button[role="switch"],
	.toggle-switch {
		/* --- DESKTOP COMPACT SIZE --- */
		/* Cũ: 3.25rem x 2rem */
		width: 2.75rem !important; /* ~44px */
		height: 1.5rem !important; /* ~24px */
	}

	button[role="switch"] > span,
	.toggle-switch > span {
		left: 2px !important;
		
		/* Size: Track(24px) - Pad(4px) = 20px */
		width: 1.25rem !important; 
		height: 1.25rem !important; 
	}

	/* Pin translation when checked - Desktop */
	button[role="switch"][aria-checked="true"] > span,
	.toggle-switch[aria-checked="true"] > span {
		/* Move: Track(2.75) - Pin(1.25) - Pad(0.25) = 1.25rem */
		transform: translateY(-50%) translateX(1.25rem) !important;
	}
}

/* ========================================================================
   RESPONSIVE & UTILITIES (Original functionality preserved)
   ======================================================================== */

/* Mobile-first responsive adjustments */
@media (max-width: 768px) {
	body {
		font-size: 14px;
	}
}

.embed-container {
	width: 100%;
	height: 100%;
	min-height: 400px;
	position: relative;
}

.embed-container iframe {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	border: 0;
}

/* Ensure mobile-friendly touch targets */
@media (max-width: 768px) {
	button:not(.toggle-switch), a, input[type="text"], input[type="email"], input[type="password"], input[type="search"], input[type="url"], select {
		min-height: 36px;
		min-width: 36px;
	}
	
	input[type="checkbox"] {
		padding: 8px;
	}
	
	.toggle-switch {
		min-width: auto !important;
		min-height: auto !important;
	}
	
	button {
		padding: 0.375rem 0.5rem;
		font-size: 0.813rem;
	}
	
	[role="menu"] a, [role="menuitem"] a {
		padding: 0.375rem 0.5rem;
		font-size: 0.813rem;
	}
	
	[role="menu"] {
		width: 10rem;
		font-size: 0.813rem;
	}
}

/* Smooth transitions for interactive elements */
button, a, input, select {
	transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced hover effects - only on devices with hover capability */
@media (hover: hover) and (pointer: fine) {
	button:hover, a:hover {
		transform: translateY(-1px);
	}

	button:active, a:active {
		transform: translateY(0);
	}
}

/* Card hover effects */
.card-hover {
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@media (hover: hover) and (pointer: fine) {
	.card-hover:hover {
		transform: translateY(-2px);
		box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2);
	}
}

@media (hover: none) or (pointer: coarse) {
	.card-hover:active {
		transform: scale(0.98);
		opacity: 0.9;
	}
}

/* Skeleton loader animation */
@keyframes shimmer {
	0% {
		background-position: -1000px 0;
	}
	100% {
		background-position: 1000px 0;
	}
}

.skeleton {
	animation: shimmer 2s infinite linear;
	background: linear-gradient(
		to right,
		#18181b 4%,
		#27272a 25%,
		#18181b 36%
	);
	background-size: 1000px 100%;
}

/* Fade in animation */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.fade-in {
	animation: fadeIn 0.4s ease-out;
}

/* Pulse animation */
@keyframes pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

.pulse {
	animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Gradient text effect */
.gradient-text {
	background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #f472b6 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

/* Custom scrollbar */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: #18181b;
}

::-webkit-scrollbar-thumb {
	background: #3f3f46;
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: #52525b;
}

/* Focus styles for accessibility */
*:focus-visible {
	outline: 2px solid #3b82f6;
	outline-offset: 2px;
}

/* Simple fade-in animation for navbar */
@keyframes navFadeIn {
	0% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

.nav-container {
	animation: navFadeIn 0.3s ease-out forwards;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	.nav-container {
		animation: none;
	}
}
